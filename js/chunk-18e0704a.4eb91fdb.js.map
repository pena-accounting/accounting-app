{"version":3,"sources":["webpack:///./src/views/StudentList.vue?1337","webpack:///./src/views/StudentList.vue","webpack:///./src/views/StudentList.vue?118e"],"names":["class","style","value","filteredStudents","paginator","rows","dataKey","rowHover","selection","selectedStudents","loading","header","filterOption","options","filterOptions","placeholder","filters1","empty","selectionMode","headerStyle","sortable","body","slotProps","data","first_name","last_name","field","school","rate","bodyStyle","type","icon","openDialog","disabled","archive","openConfirmation","visible","studentDialog","modal","closable","footer","mode","label","edit","isChanged","save","resetStudent","curStudent","changedStudent","required","autofocus","email","birthday","showIcon","showButtonBar","contact_number","family_group","family_group_obj","familyGroups","optionLabel","avatars","option","alt","src","displayConfirmation","closeConfirmation","archiveStudent","students","studentService","familyGroupService","created","this","StudentService","FamilyGroupService","mounted","getFamilyGroups","getStudents","map","student","Date","fullname","find","grp","id","console","log","refreshFilter","showSuccess","length","showFail","watch","newFilter","computed","isEqual","methods","response","filter","editStudent","format","res","return_status","return_message","Object","keys","forEach","key","summary","detail","$toast","add","severity","life","render","__scopeId"],"mappings":"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","file":"js/chunk-18e0704a.4eb91fdb.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./StudentList.vue?vue&type=style&index=0&id=c5cd721a&scoped=true&lang=scss\"","<template>\n  <div class=\"p-grid\">\n    <div class=\"p-col-12\">\n      <div class=\"card\">\n        <!-- <Toast /> -->\n        <!-- <h4>Default</h4>\n        <p>Pagination, sorting, filtering and checkbox selection.</p> -->\n        <DataTable\n          :value=\"filteredStudents\"\n          :paginator=\"true\"\n          class=\"p-datatable-customers\"\n          :rows=\"10\"\n          dataKey=\"id\"\n          :rowHover=\"true\"\n          v-model:selection=\"selectedStudents\"\n          :loading=\"loading\"\n        >\n          <template #header>\n            <div class=\"table-header\">\n              List of Students\n              <Dropdown\n                v-model=\"filterOption\"\n                :options=\"filterOptions\"\n                placeholder=\"Select One\"\n              ></Dropdown>\n              <span class=\"p-input-icon-left\">\n                <i class=\"pi pi-search\" />\n                <InputText\n                  v-model=\"filters1['global']\"\n                  placeholder=\"Global Search\"\n                />\n              </span>\n            </div>\n          </template>\n          <template #empty> No students found. </template>\n          <template #loading> Loading students data. Please wait. </template>\n          <Column selectionMode=\"multiple\" headerStyle=\"width: 3em\"></Column>\n          <Column header=\"First Name\" :sortable=\"true\">\n            <template #body=\"slotProps\">\n              {{ slotProps.data.first_name }}\n            </template>\n          </Column>\n\n          <Column header=\"Last Name\" :sortable=\"true\">\n            <template #body=\"slotProps\">\n              {{ slotProps.data.last_name }}\n            </template>\n          </Column>\n          <Column field=\"school\" header=\"School\" :sortable=\"true\">\n            <template #body=\"slotProps\">\n              {{ slotProps.data.school }}\n            </template>\n          </Column>\n          <!-- <Column\n            header=\"Country\"\n            :sortable=\"true\"\n            sortField=\"country.name\"\n            filterField=\"country.name\"\n          >\n            <template #body=\"slotProps\">\n              <img\n                src=\"assets/layout/flags/flag_placeholder.png\"\n                :alt=\"slotProps.data.country.name\"\n                :class=\"'flag flag-' + slotProps.data.country.code\"\n                width=\"30\"\n              />\n              <span\n                style=\"margin-left: 0.5em; vertical-align: middle\"\n                class=\"image-text\"\n                >{{ slotProps.data.country.name }}</span\n              >\n            </template>\n          </Column> -->\n          <!-- <Column\n            header=\"Representative\"\n            :sortable=\"true\"\n            sortField=\"representative.name\"\n            filterField=\"representative.name\"\n          >\n            <template #body=\"slotProps\">\n              <img\n                :alt=\"slotProps.data.representative.name\"\n                :src=\"\n                  'assets/layout/images/avatar/' +\n                  slotProps.data.representative.image\n                \"\n                width=\"32\"\n                style=\"vertical-align: middle\"\n              />\n              <span\n                style=\"margin-left: 0.5em; vertical-align: middle\"\n                class=\"image-text\"\n                >{{ slotProps.data.representative.name }}</span\n              >\n            </template>\n          </Column> -->\n          <Column field=\"rate\" header=\"Rate\" :sortable=\"true\">\n            <template #body=\"slotProps\">\n              <span>{{ slotProps.data.rate }}</span>\n            </template>\n          </Column>\n          <!-- <Column field=\"status\" header=\"Status\" :sortable=\"true\">\n            <template #body=\"slotProps\">\n              <span :class=\"'customer-badge status-' + slotProps.data.status\">{{\n                slotProps.data.status\n              }}</span>\n            </template>\n          </Column> -->\n          <!-- <Column field=\"activity\" header=\"Activity\" :sortable=\"true\">\n            <template #body=\"slotProps\">\n              <ProgressBar\n                :value=\"slotProps.data.activity\"\n                :showValue=\"false\"\n              />\n            </template>\n          </Column> -->\n          <Column\n            headerStyle=\"width: 10rem; text-align: center\"\n            bodyStyle=\"text-align: center; overflow: visible\"\n          >\n            <template #body=\"slotProps\">\n              <span class=\"p-buttonset\">\n                <Button\n                  type=\"button\"\n                  icon=\"pi pi-search\"\n                  class=\"p-button-info\"\n                  @click=\"openDialog(slotProps.data, 'view')\"\n                ></Button>\n                <!-- <Button\n                  type=\"button\"\n                  icon=\"pi pi-user-edit\"\n                  class=\"p-button-warning\"\n                  @click=\"openDialog(slotProps.data, 'edit')\"\n                ></Button> -->\n                <Button\n                  type=\"button\"\n                  icon=\"pi pi-trash\"\n                  class=\"p-button-danger\"\n                  :disabled=\"slotProps.data.archive\"\n                  @click=\"openConfirmation(slotProps.data)\"\n                ></Button>\n              </span>\n            </template>\n          </Column>\n        </DataTable>\n        <Dialog\n          v-model:visible=\"studentDialog\"\n          :style=\"{ width: '750px' }\"\n          header=\"Student Details\"\n          :modal=\"true\"\n          :closable=\"true\"\n        >\n          <div class=\"p-grid p-fluid\">\n            <div class=\"p-field p-col-6\">\n              <label>First Name</label>\n              <InputText\n                v-if=\"curStudent\"\n                v-model=\"changedStudent.first_name\"\n                required=\"true\"\n                :disabled=\"mode === 'view'\"\n                autofocus\n              />\n            </div>\n            <div class=\"p-field p-col-6\">\n              <label>Last Name</label>\n              <InputText\n                v-if=\"curStudent\"\n                v-model=\"changedStudent.last_name\"\n                required=\"true\"\n                :disabled=\"mode === 'view'\"\n              />\n            </div>\n            <div class=\"p-field p-col-6\">\n              <label>Email</label>\n              <InputText\n                v-if=\"curStudent\"\n                v-model=\"changedStudent.email\"\n                required=\"true\"\n                :disabled=\"mode === 'view'\"\n              />\n            </div>\n            <div class=\"p-field p-col-6\">\n              <label>Birth Date</label>\n              <Calendar\n                v-if=\"curStudent\"\n                v-model=\"changedStudent.birthday\"\n                :showIcon=\"true\"\n                :showButtonBar=\"true\"\n                :disabled=\"mode === 'view'\"\n              ></Calendar>\n            </div>\n            <div class=\"p-field p-col-6\">\n              <label>School</label>\n              <InputText\n                v-if=\"curStudent\"\n                v-model=\"changedStudent.school\"\n                required=\"true\"\n                :disabled=\"mode === 'view'\"\n              />\n            </div>\n            <div class=\"p-field p-col-6\">\n              <label>Contact Number</label>\n              <InputText\n                v-if=\"curStudent\"\n                v-model=\"changedStudent.contact_number\"\n                required=\"true\"\n                :disabled=\"mode === 'view'\"\n              />\n            </div>\n            <div class=\"p-field p-col-6\">\n              <label>Rate</label>\n              <InputText\n                v-if=\"curStudent\"\n                v-model=\"changedStudent.rate\"\n                required=\"true\"\n                :disabled=\"mode === 'view'\"\n              />\n            </div>\n            <div\n              class=\"p-field p-col-6\"\n              v-if=\"changedStudent.family_group != null\"\n            >\n              <label>Family Group</label>\n              <Dropdown\n                v-if=\"curStudent\"\n                v-model=\"changedStudent.family_group_obj\"\n                :options=\"familyGroups\"\n                placeholder=\"Select One\"\n                optionLabel=\"name\"\n                :disabled=\"mode === 'view'\"\n              ></Dropdown>\n            </div>\n            <div class=\"p-field p-col-6\">\n              <label>Avatar</label>\n              <SelectButton v-model=\"changedStudent.avatars\" :options=\"avatars\" :disabled=\"mode === 'view'\">\n                <template #option=\"slotProps\">\n                  <div class=\"center\">\n                    <img\n                      v-if=\"slotProps.option\"\n                      :alt=\"slotProps.option\"\n                      :src=\"'assets/layout/images/' + slotProps.option\"\n                    />\n                    <div style=\"text-align: center\" v-else>None</div>\n                    <!-- <div>{{slotProps.option}}</div> -->\n                  </div>\n                </template>\n              </SelectButton>\n            </div>\n          </div>\n          <template #footer>\n            <div v-if=\"mode === 'view'\">\n              <Button\n                label=\"Edit\"\n                icon=\"pi pi-user-edit\"\n                class=\"p-button-text\"\n                @click=\"mode = edit\"\n              />\n            </div>\n            <div v-if=\"mode != 'view'\">\n              <Button\n                label=\"Save\"\n                icon=\"pi pi-check\"\n                class=\"p-button-text\"\n                :disabled=\"!isChanged\"\n                @click=\"save\"\n              />\n              <Button\n                label=\"Reset\"\n                icon=\"pi pi-refresh\"\n                class=\"p-button-text\"\n                @click=\"resetStudent\"\n              />\n            </div>\n          </template>\n        </Dialog>\n        <Dialog\n          header=\"Confirmation\"\n          v-model:visible=\"displayConfirmation\"\n          :style=\"{ width: '350px' }\"\n          :modal=\"true\"\n        >\n          <div class=\"confirmation-content\">\n            <i\n              class=\"pi pi-exclamation-triangle p-mr-3\"\n              style=\"font-size: 2rem\"\n            />\n            <span>Are you sure you want to archive?</span>\n          </div>\n          <template #footer>\n            <Button\n              label=\"No\"\n              icon=\"pi pi-times\"\n              @click=\"closeConfirmation\"\n              class=\"p-button-text\"\n            />\n            <Button\n              label=\"Yes\"\n              icon=\"pi pi-check\"\n              @click=\"archiveStudent\"\n              class=\"p-button-text\"\n              autofocus\n            />\n          </template>\n        </Dialog>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport StudentService from \"../service/StudentService\";\nimport FamilyGroupService from \"../service/FamilyGroupService\";\nimport moment from \"moment\";\nimport _ from \"lodash\";\n\nexport default {\n  data() {\n    return {\n      selectedStudents: null,\n      filters1: {},\n      loading: true,\n      students: null,\n      studentDialog: false,\n      curStudent: null,\n      changedStudent: null,\n      mode: null,\n      displayConfirmation: false,\n      filterOption: \"Active Only\",\n      filterOptions: [\"All Students\", \"Active Only\", \"Archived Only\"],\n      filteredStudents: [],\n      avatars: [\n        \"\",\n        \"avatar_1.png\",\n        \"avatar_2.png\",\n        \"avatar_3.png\",\n        \"avatar_4.png\",\n      ],\n    };\n  },\n  studentService: null,\n  familyGroupService: null,\n  created() {\n    this.studentService = new StudentService();\n    this.familyGroupService = new FamilyGroupService();\n  },\n  async mounted() {\n    try {\n      this.familyGroups = await this.familyGroupService.getFamilyGroups();\n      this.students = await this.studentService.getStudents();\n      this.students = this.students.map((student) => ({\n        ...student,\n        birthday: new Date(student.birthday),\n        fullname: student.first_name + \" \" + student.last_name,\n        family_group_obj: this.familyGroups.find(\n          (grp) => grp.id == student.family_group\n        ),\n      }));\n      console.log(this.students);\n      this.refreshFilter(this.filterOption);\n      this.showSuccess(\n        \"Retrieve Students Success\",\n        \"Successfully retrieved \" + this.students.length + \" students\"\n      );\n    } catch (err) {\n      this.showFail(\"Retrieve Students Fail\", err);\n    } finally {\n      this.loading = false;\n    }\n  },\n  watch: {\n    filterOption: function (newFilter) {\n      this.refreshFilter(newFilter);\n    },\n  },\n  computed: {\n    isChanged: function () {\n      return !_.isEqual(this.curStudent, this.changedStudent);\n    },\n  },\n  methods: {\n    openDialog(student, mode) {\n      this.curStudent = student;\n      this.changedStudent = { ...student };\n      this.studentDialog = true;\n      this.mode = mode;\n    },\n    openConfirmation(student) {\n      this.curStudent = student;\n      this.displayConfirmation = true;\n    },\n    closeConfirmation() {\n      this.displayConfirmation = false;\n    },\n    async archiveStudent() {\n      try {\n        await this.studentService.archiveStudent({\n          student: this.curStudent.id,\n        });\n        this.curStudent.archive = true;\n        console.log(this.students);\n        this.refreshFilter(this.filterOption);\n        this.showSuccess(\n          \"Archive Student Success\",\n          \"Successfully archived \" + this.curStudent.fullname\n        );\n        this.curStudent = null;\n        this.closeConfirmation();\n      } catch (err) {\n        console.log(err.response.data);\n        this.showFail(\"Archive Fail\", err);\n      }\n    },\n    refreshFilter(filter) {\n      this.filteredStudents = this.students.filter(function (student) {\n        return filter == \"All Students\"\n          ? true\n          : filter == \"Active Only\"\n          ? !student.archive\n          : student.archive;\n      });\n    },\n    async save() {\n      try {\n        // console.log(this.changedStudent)\n        const res = await this.studentService.editStudent({\n          ...this.changedStudent,\n          birthday: moment(this.changedStudent.birthday).format(\n            \"YYYY-MM-DDTHH:mm:ss\"\n          ),\n          student: this.changedStudent.id,\n          family_group:\n            this.changedStudent.family_group == null\n              ? \"\"\n              : this.changedStudent.family_group_obj.id,\n        });\n        if (res.return_status != \"Success\") {\n          this.showFail(\"Edit Student Fail\", res.return_message);\n          return;\n        }\n        Object.keys(this.curStudent).forEach((key) => {\n          this.curStudent[key] = this.changedStudent[key];\n        });\n        this.changedStudent = { ...this.curStudent };\n        this.refreshFilter(this.filterOption);\n        this.showSuccess(\n          \"Edit Student Success\",\n          \"Successfully edited \" +\n            this.changedStudent.first_name +\n            \" \" +\n            this.changedStudent.last_name\n        );\n        this.mode = \"view\";\n      } catch (err) {\n        console.log(err.response.data);\n        this.showFail(\"Edit Fail\", err);\n      }\n    },\n    showSuccess(summary, detail) {\n      this.$toast.add({\n        severity: \"success\",\n        summary,\n        detail,\n        life: 3000,\n      });\n    },\n    showFail(summary, detail) {\n      this.$toast.add({\n        severity: \"error\",\n        summary,\n        detail,\n        life: 3000,\n      });\n    },\n    resetStudent() {\n      this.changedStudent = { ...this.curStudent };\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n::v-deep(.p-progressbar) {\n  height: 0.5rem;\n  background-color: #d8dadc;\n\n  .p-progressbar-value {\n    background-color: #607d8b;\n  }\n}\n\n.p-datatable .p-column-filter {\n  display: none;\n}\n\n.table-header {\n  display: flex;\n  justify-content: space-between;\n}\n\n::v-deep(.p-datatable.p-datatable-customers) {\n  .p-datatable-header {\n    padding: 1rem;\n    text-align: left;\n    font-size: 1.5rem;\n  }\n\n  .p-paginator {\n    padding: 1rem;\n  }\n\n  .p-datatable-thead > tr > th {\n    text-align: left;\n  }\n\n  .p-datatable-tbody > tr > td {\n    cursor: auto;\n  }\n\n  .p-dropdown-label:not(.p-placeholder) {\n    // text-transform: uppercase;\n  }\n}\n\n/* Responsive */\n.p-datatable-customers .p-datatable-tbody > tr > td .p-column-title {\n  display: none;\n}\n\n.customer-badge {\n  border-radius: 2px;\n  padding: 0.25em 0.5rem;\n  text-transform: uppercase;\n  font-weight: 700;\n  font-size: 12px;\n  letter-spacing: 0.3px;\n\n  &.status-qualified {\n    background: #c8e6c9;\n    color: #256029;\n  }\n\n  &.status-unqualified {\n    background: #ffcdd2;\n    color: #c63737;\n  }\n\n  &.status-negotiation {\n    background: #feedaf;\n    color: #8a5340;\n  }\n\n  &.status-new {\n    background: #b3e5fc;\n    color: #23547b;\n  }\n\n  &.status-renewal {\n    background: #eccfff;\n    color: #694382;\n  }\n\n  &.status-proposal {\n    background: #ffd8b2;\n    color: #805b36;\n  }\n}\n\n.p-progressbar-value.ui-widget-header {\n  background: #607d8b;\n}\n\n@media (max-width: 640px) {\n  .p-progressbar {\n    margin-top: 0.5rem;\n  }\n}\n\n.product-image {\n  width: 100px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n}\n\n.orders-subtable {\n  padding: 1rem;\n}\n\n.product-badge {\n  border-radius: 2px;\n  padding: 0.25em 0.5rem;\n  text-transform: uppercase;\n  font-weight: 700;\n  font-size: 12px;\n  letter-spacing: 0.3px;\n\n  &.status-instock {\n    background: #c8e6c9;\n    color: #256029;\n  }\n\n  &.status-outofstock {\n    background: #ffcdd2;\n    color: #c63737;\n  }\n\n  &.status-lowstock {\n    background: #feedaf;\n    color: #8a5340;\n  }\n}\n\n.order-badge {\n  border-radius: 2px;\n  padding: 0.25em 0.5rem;\n  text-transform: uppercase;\n  font-weight: 700;\n  font-size: 12px;\n  letter-spacing: 0.3px;\n\n  &.order-delivered {\n    background: #c8e6c9;\n    color: #256029;\n  }\n\n  &.order-cancelled {\n    background: #ffcdd2;\n    color: #c63737;\n  }\n\n  &.order-pending {\n    background: #feedaf;\n    color: #8a5340;\n  }\n\n  &.order-returned {\n    background: #eccfff;\n    color: #694382;\n  }\n}\n\n@media screen and (max-width: 960px) {\n  ::v-deep(.p-datatable) {\n    &.p-datatable-customers {\n      .p-datatable-thead > tr > th,\n      .p-datatable-tfoot > tr > td {\n        display: none !important;\n      }\n\n      .p-datatable-tbody > tr {\n        > td {\n          text-align: left;\n          display: block;\n          border: 0 none !important;\n          width: 100% !important;\n          float: left;\n          clear: left;\n          border: 0 none;\n\n          .p-column-title {\n            padding: 0.4rem;\n            min-width: 30%;\n            display: inline-block;\n            margin: -0.4rem 1rem -0.4rem -0.4rem;\n            font-weight: bold;\n          }\n\n          .p-progressbar {\n            margin-top: 0.5rem;\n          }\n        }\n      }\n    }\n  }\n}\n\n.confirmation-content {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n</style>\n","import { render } from \"./StudentList.vue?vue&type=template&id=c5cd721a&scoped=true\"\nimport script from \"./StudentList.vue?vue&type=script&lang=js\"\nexport * from \"./StudentList.vue?vue&type=script&lang=js\"\n\nimport \"./StudentList.vue?vue&type=style&index=0&id=c5cd721a&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-c5cd721a\"\n\nexport default script"],"sourceRoot":""}