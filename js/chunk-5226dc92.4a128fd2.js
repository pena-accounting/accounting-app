(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5226dc92"],{"9aac":function(e,t,n){"use strict";n("e57c")},dfce:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),i=Object(r["Q"])("data-v-35c64d69");Object(r["x"])("data-v-35c64d69");var o={class:"p-grid"},a={class:"p-col-12"},c={class:"card"},u={class:"table-header"},l=Object(r["j"])(" List of Tutors "),s={class:"p-input-icon-left"},d=Object(r["k"])("i",{class:"pi pi-search"},null,-1),b=Object(r["j"])(" No tutors found. "),f=Object(r["j"])(" Loading tutors data. Please wait. "),p={class:"p-buttonset"},h={class:"p-grid p-fluid"},O={class:"p-field p-col-6"},m=Object(r["k"])("label",null,"First Name",-1),v={class:"p-field p-col-6"},j=Object(r["k"])("label",null,"Last Name",-1),k={class:"p-field p-col-6"},g=Object(r["k"])("label",null,"Email",-1),T={key:0},w={key:1},y=Object(r["k"])("div",{class:"confirmation-content"},[Object(r["k"])("i",{class:"pi pi-exclamation-triangle p-mr-3",style:{"font-size":"2rem"}}),Object(r["k"])("span",null,"Are you sure you want to archive?")],-1);Object(r["v"])();var C=i((function(e,t,n,C,S,_){var x=Object(r["C"])("Dropdown"),F=Object(r["C"])("InputText"),V=Object(r["C"])("Column"),A=Object(r["C"])("Button"),D=Object(r["C"])("DataTable"),R=Object(r["C"])("Dialog");return Object(r["u"])(),Object(r["f"])("div",o,[Object(r["k"])("div",a,[Object(r["k"])("div",c,[Object(r["k"])(D,{value:S.filteredTutors,paginator:!0,class:"p-datatable-customers",rows:10,dataKey:"id",rowHover:!0,selection:S.selectedStudents,"onUpdate:selection":t[3]||(t[3]=function(e){return S.selectedStudents=e}),loading:S.loading},{header:i((function(){return[Object(r["k"])("div",u,[l,Object(r["k"])(x,{modelValue:S.filterOption,"onUpdate:modelValue":t[1]||(t[1]=function(e){return S.filterOption=e}),options:S.filterOptions,placeholder:"Select One"},null,8,["modelValue","options"]),Object(r["k"])("span",s,[d,Object(r["k"])(F,{modelValue:S.filters1["global"],"onUpdate:modelValue":t[2]||(t[2]=function(e){return S.filters1["global"]=e}),placeholder:"Global Search"},null,8,["modelValue"])])])]})),empty:i((function(){return[b]})),loading:i((function(){return[f]})),default:i((function(){return[Object(r["k"])(V,{selectionMode:"multiple",headerStyle:"width: 3em"}),Object(r["k"])(V,{header:"First Name",sortable:!0},{body:i((function(e){return[Object(r["j"])(Object(r["G"])(e.data.first_name),1)]})),_:1}),Object(r["k"])(V,{header:"Last Name",sortable:!0},{body:i((function(e){return[Object(r["j"])(Object(r["G"])(e.data.last_name),1)]})),_:1}),Object(r["k"])(V,{header:"Email",sortable:!0},{body:i((function(e){return[Object(r["j"])(Object(r["G"])(e.data.email),1)]})),_:1}),Object(r["k"])(V,{headerStyle:"width: 10rem; text-align: center",bodyStyle:"text-align: center; overflow: visible"},{body:i((function(e){return[Object(r["k"])("span",p,[Object(r["k"])(A,{type:"button",icon:"pi pi-search",class:"p-button-info",onClick:function(t){return _.openDialog(e.data,"view")}},null,8,["onClick"]),Object(r["k"])(A,{type:"button",icon:"pi pi-trash",class:"p-button-danger",disabled:e.data.archive,onClick:function(t){return _.openConfirmation(e.data)}},null,8,["disabled","onClick"])])]})),_:1})]})),_:1},8,["value","selection","loading"]),Object(r["k"])(R,{visible:S.tutorDialog,"onUpdate:visible":t[8]||(t[8]=function(e){return S.tutorDialog=e}),style:{width:"750px"},header:"Tutor Details",modal:!0,closable:!0},{footer:i((function(){return["view"===S.mode?(Object(r["u"])(),Object(r["f"])("div",T,[Object(r["k"])(A,{label:"Edit",icon:"pi pi-user-edit",class:"p-button-text",onClick:t[7]||(t[7]=function(t){return S.mode=e.edit})})])):Object(r["g"])("",!0),"view"!=S.mode?(Object(r["u"])(),Object(r["f"])("div",w,[Object(r["k"])(A,{label:"Save",icon:"pi pi-check",class:"p-button-text",disabled:!_.isChanged,onClick:_.save},null,8,["disabled","onClick"]),Object(r["k"])(A,{label:"Reset",icon:"pi pi-refresh",class:"p-button-text",onClick:_.resetTutor},null,8,["onClick"])])):Object(r["g"])("",!0)]})),default:i((function(){return[Object(r["k"])("div",h,[Object(r["k"])("div",O,[m,S.curTutor?(Object(r["u"])(),Object(r["f"])(F,{key:0,modelValue:S.changedTutor.first_name,"onUpdate:modelValue":t[4]||(t[4]=function(e){return S.changedTutor.first_name=e}),required:"true",disabled:"view"===S.mode,autofocus:""},null,8,["modelValue","disabled"])):Object(r["g"])("",!0)]),Object(r["k"])("div",v,[j,S.curTutor?(Object(r["u"])(),Object(r["f"])(F,{key:0,modelValue:S.changedTutor.last_name,"onUpdate:modelValue":t[5]||(t[5]=function(e){return S.changedTutor.last_name=e}),required:"true",disabled:"view"===S.mode},null,8,["modelValue","disabled"])):Object(r["g"])("",!0)]),Object(r["k"])("div",k,[g,S.curTutor?(Object(r["u"])(),Object(r["f"])(F,{key:0,modelValue:S.changedTutor.email,"onUpdate:modelValue":t[6]||(t[6]=function(e){return S.changedTutor.email=e}),required:"true",disabled:"view"===S.mode},null,8,["modelValue","disabled"])):Object(r["g"])("",!0)])])]})),_:1},8,["visible"]),Object(r["k"])(R,{header:"Confirmation",visible:S.displayConfirmation,"onUpdate:visible":t[9]||(t[9]=function(e){return S.displayConfirmation=e}),style:{width:"350px"},modal:!0},{footer:i((function(){return[Object(r["k"])(A,{label:"No",icon:"pi pi-times",onClick:_.closeConfirmation,class:"p-button-text"},null,8,["onClick"]),Object(r["k"])(A,{label:"Yes",icon:"pi pi-check",onClick:_.archiveTutor,class:"p-button-text",autofocus:""},null,8,["onClick"])]})),default:i((function(){return[y]})),_:1},8,["visible"])])])])})),S=(n("4de4"),n("b64b"),n("159b"),n("5530")),_=(n("96cf"),n("1da1")),x=n("54ef"),F=n("2ef0"),V=n.n(F),A={data:function(){return{selectedStudents:null,filters1:{},loading:!0,students:null,curStudent:null,changedStudent:null,mode:null,displayConfirmation:!1,filterOption:"Active Only",filterOptions:["All Tutors","Active Only","Archived Only"],filteredStudents:[],avatars:["","avatar_1.png","avatar_2.png","avatar_3.png","avatar_4.png"],tutors:[],filteredTutors:[],curTutor:null,changedTutor:null,tutorDialog:!1}},tutorService:null,created:function(){this.tutorService=new x["a"]},mounted:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.tutorService.getAllTutors();case 3:e.tutors=t.sent,console.log(e.tutors),e.refreshFilter(e.filterOption),e.showSuccess("Retrieve Tutors Success","Successfully retrieved "+e.tutors.length+" tutors"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.showFail("Retrieve Tutors Fail",t.t0);case 12:return t.prev=12,e.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})))()},watch:{filterOption:function(e){this.refreshFilter(e)}},computed:{isChanged:function(){return!V.a.isEqual(this.curTutor,this.changedTutor)}},methods:{openDialog:function(e,t){this.curTutor=e,this.changedTutor=Object(S["a"])({},e),this.tutorDialog=!0,this.mode=t},openConfirmation:function(e){this.curTutor=e,this.displayConfirmation=!0},closeConfirmation:function(){this.displayConfirmation=!1},archiveTutor:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.tutorService.archiveTutor({tutor:e.curTutor.id});case 3:e.curTutor.archive=!0,e.refreshFilter(e.filterOption),e.showSuccess("Archive Tutor Success","Successfully archived "+e.curTutor.first_name+" "+e.curTutor.last_name),e.curTutor=null,e.closeConfirmation(),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0.response.data),e.showFail("Archive Fail",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},refreshFilter:function(e){this.filteredTutors=this.tutors.filter((function(t){return"All Tutors"==e||("Active Only"==e?!t.archive:t.archive)}))},save:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.tutorService.editTutor(Object(S["a"])({tutor:e.changedTutor.id},e.changedTutor));case 3:if(n=t.sent,"Success"==n.return_status){t.next=7;break}return e.showFail("Edit Tutor Fail",n.return_message),t.abrupt("return");case 7:Object.keys(e.curTutor).forEach((function(t){e.curTutor[t]=e.changedTutor[t]})),e.changedTutor=Object(S["a"])({},e.curTutor),e.refreshFilter(e.filterOption),e.showSuccess("Edit Tutor Success","Successfully edited "+e.changedTutor.first_name+" "+e.changedTutor.last_name),e.mode="view",t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0.response.data),e.showFail("Edit Fail",t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()},showSuccess:function(e,t){this.$toast.add({severity:"success",summary:e,detail:t,life:3e3})},showFail:function(e,t){this.$toast.add({severity:"error",summary:e,detail:t,life:3e3})},resetTutor:function(){this.changedTutor=Object(S["a"])({},this.curTutor)}}};n("9aac");A.render=C,A.__scopeId="data-v-35c64d69";t["default"]=A},e57c:function(e,t,n){}}]);
//# sourceMappingURL=chunk-5226dc92.4a128fd2.js.map