(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1731ca28"],{"54ef":function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));r("96cf");var n=r("1da1"),a=r("d4ec"),u=r("bee2"),o=r("bc3a"),i=r.n(o),c="admin",l="SweetRedRadish",s="https://rolopens.pythonanywhere.com",d=function(){function e(){Object(a["a"])(this,e)}return Object(u["a"])(e,[{key:"getAllTutors",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.post(s+"/get-all-tutors/",{type:"All"},{auth:{username:c,password:l}}).then((function(e){return e.data.tutors})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getUnarchivedTutors",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.post(s+"/get-all-tutors/",{type:"NonArchived"},{auth:{username:c,password:l}}).then((function(e){return e.data.tutors})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addTutor",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.post(s+"/add-new-tutor/",t,{auth:{username:c,password:l}}).then((function(e){return e.data})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"archiveTutor",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.post(s+"/archive-tutor/",t,{auth:{username:c,password:l}}).then((function(e){return e.data})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"editTutor",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.post(s+"/edit-tutor/",t,{auth:{username:c,password:l}}).then((function(e){return e.data})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},"9aac":function(e,t,r){"use strict";r("e57c")},dfce:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),a=Object(n["Q"])("data-v-35c64d69");Object(n["x"])("data-v-35c64d69");var u={class:"p-grid"},o={class:"p-col-12"},i={class:"card"},c={class:"table-header"},l=Object(n["j"])(" List of Tutors "),s={class:"p-input-icon-left"},d=Object(n["k"])("i",{class:"pi pi-search"},null,-1),f=Object(n["j"])(" No tutors found. "),p=Object(n["j"])(" Loading tutors data. Please wait. "),b={class:"p-buttonset"},h={class:"p-grid p-fluid"},m={class:"p-field p-col-6"},v=Object(n["k"])("label",null,"First Name",-1),O={class:"p-field p-col-6"},j=Object(n["k"])("label",null,"Last Name",-1),g={class:"p-field p-col-6"},k=Object(n["k"])("label",null,"Email",-1),w={key:0},T={key:1},y=Object(n["k"])("div",{class:"confirmation-content"},[Object(n["k"])("i",{class:"pi pi-exclamation-triangle p-mr-3",style:{"font-size":"2rem"}}),Object(n["k"])("span",null,"Are you sure you want to archive?")],-1);Object(n["v"])();var C=a((function(e,t,r,C,S,x){var _=Object(n["C"])("Dropdown"),R=Object(n["C"])("InputText"),F=Object(n["C"])("Column"),V=Object(n["C"])("Button"),A=Object(n["C"])("DataTable"),D=Object(n["C"])("Dialog");return Object(n["u"])(),Object(n["f"])("div",u,[Object(n["k"])("div",o,[Object(n["k"])("div",i,[Object(n["k"])(A,{value:S.filteredTutors,paginator:!0,class:"p-datatable-customers",rows:10,dataKey:"id",rowHover:!0,selection:S.selectedStudents,"onUpdate:selection":t[3]||(t[3]=function(e){return S.selectedStudents=e}),loading:S.loading},{header:a((function(){return[Object(n["k"])("div",c,[l,Object(n["k"])(_,{modelValue:S.filterOption,"onUpdate:modelValue":t[1]||(t[1]=function(e){return S.filterOption=e}),options:S.filterOptions,placeholder:"Select One"},null,8,["modelValue","options"]),Object(n["k"])("span",s,[d,Object(n["k"])(R,{modelValue:S.filters1["global"],"onUpdate:modelValue":t[2]||(t[2]=function(e){return S.filters1["global"]=e}),placeholder:"Global Search"},null,8,["modelValue"])])])]})),empty:a((function(){return[f]})),loading:a((function(){return[p]})),default:a((function(){return[Object(n["k"])(F,{selectionMode:"multiple",headerStyle:"width: 3em"}),Object(n["k"])(F,{header:"First Name",sortable:!0},{body:a((function(e){return[Object(n["j"])(Object(n["G"])(e.data.first_name),1)]})),_:1}),Object(n["k"])(F,{header:"Last Name",sortable:!0},{body:a((function(e){return[Object(n["j"])(Object(n["G"])(e.data.last_name),1)]})),_:1}),Object(n["k"])(F,{header:"Email",sortable:!0},{body:a((function(e){return[Object(n["j"])(Object(n["G"])(e.data.email),1)]})),_:1}),Object(n["k"])(F,{headerStyle:"width: 10rem; text-align: center",bodyStyle:"text-align: center; overflow: visible"},{body:a((function(e){return[Object(n["k"])("span",b,[Object(n["k"])(V,{type:"button",icon:"pi pi-search",class:"p-button-info",onClick:function(t){return x.openDialog(e.data,"view")}},null,8,["onClick"]),Object(n["k"])(V,{type:"button",icon:"pi pi-trash",class:"p-button-danger",disabled:e.data.archive,onClick:function(t){return x.openConfirmation(e.data)}},null,8,["disabled","onClick"])])]})),_:1})]})),_:1},8,["value","selection","loading"]),Object(n["k"])(D,{visible:S.tutorDialog,"onUpdate:visible":t[8]||(t[8]=function(e){return S.tutorDialog=e}),style:{width:"750px"},header:"Tutor Details",modal:!0,closable:!0},{footer:a((function(){return["view"===S.mode?(Object(n["u"])(),Object(n["f"])("div",w,[Object(n["k"])(V,{label:"Edit",icon:"pi pi-user-edit",class:"p-button-text",onClick:t[7]||(t[7]=function(t){return S.mode=e.edit})})])):Object(n["g"])("",!0),"view"!=S.mode?(Object(n["u"])(),Object(n["f"])("div",T,[Object(n["k"])(V,{label:"Save",icon:"pi pi-check",class:"p-button-text",disabled:!x.isChanged,onClick:x.save},null,8,["disabled","onClick"]),Object(n["k"])(V,{label:"Reset",icon:"pi pi-refresh",class:"p-button-text",onClick:x.resetTutor},null,8,["onClick"])])):Object(n["g"])("",!0)]})),default:a((function(){return[Object(n["k"])("div",h,[Object(n["k"])("div",m,[v,S.curTutor?(Object(n["u"])(),Object(n["f"])(R,{key:0,modelValue:S.changedTutor.first_name,"onUpdate:modelValue":t[4]||(t[4]=function(e){return S.changedTutor.first_name=e}),required:"true",disabled:"view"===S.mode,autofocus:""},null,8,["modelValue","disabled"])):Object(n["g"])("",!0)]),Object(n["k"])("div",O,[j,S.curTutor?(Object(n["u"])(),Object(n["f"])(R,{key:0,modelValue:S.changedTutor.last_name,"onUpdate:modelValue":t[5]||(t[5]=function(e){return S.changedTutor.last_name=e}),required:"true",disabled:"view"===S.mode},null,8,["modelValue","disabled"])):Object(n["g"])("",!0)]),Object(n["k"])("div",g,[k,S.curTutor?(Object(n["u"])(),Object(n["f"])(R,{key:0,modelValue:S.changedTutor.email,"onUpdate:modelValue":t[6]||(t[6]=function(e){return S.changedTutor.email=e}),required:"true",disabled:"view"===S.mode},null,8,["modelValue","disabled"])):Object(n["g"])("",!0)])])]})),_:1},8,["visible"]),Object(n["k"])(D,{header:"Confirmation",visible:S.displayConfirmation,"onUpdate:visible":t[9]||(t[9]=function(e){return S.displayConfirmation=e}),style:{width:"350px"},modal:!0},{footer:a((function(){return[Object(n["k"])(V,{label:"No",icon:"pi pi-times",onClick:x.closeConfirmation,class:"p-button-text"},null,8,["onClick"]),Object(n["k"])(V,{label:"Yes",icon:"pi pi-check",onClick:x.archiveTutor,class:"p-button-text",autofocus:""},null,8,["onClick"])]})),default:a((function(){return[y]})),_:1},8,["visible"])])])])})),S=(r("4de4"),r("b64b"),r("159b"),r("5530")),x=(r("96cf"),r("1da1")),_=r("54ef"),R=r("2ef0"),F=r.n(R),V={data:function(){return{selectedStudents:null,filters1:{},loading:!0,students:null,curStudent:null,changedStudent:null,mode:null,displayConfirmation:!1,filterOption:"Active Only",filterOptions:["All Tutors","Active Only","Archived Only"],filteredStudents:[],avatars:["","avatar_1.png","avatar_2.png","avatar_3.png","avatar_4.png"],tutors:[],filteredTutors:[],curTutor:null,changedTutor:null,tutorDialog:!1}},tutorService:null,created:function(){this.tutorService=new _["a"]},mounted:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.tutorService.getAllTutors();case 3:e.tutors=t.sent,console.log(e.tutors),e.refreshFilter(e.filterOption),e.showSuccess("Retrieve Tutors Success","Successfully retrieved "+e.tutors.length+" tutors"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.showFail("Retrieve Tutors Fail",t.t0);case 12:return t.prev=12,e.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})))()},watch:{filterOption:function(e){this.refreshFilter(e)}},computed:{isChanged:function(){return!F.a.isEqual(this.curTutor,this.changedTutor)}},methods:{openDialog:function(e,t){this.curTutor=e,this.changedTutor=Object(S["a"])({},e),this.tutorDialog=!0,this.mode=t},openConfirmation:function(e){this.curTutor=e,this.displayConfirmation=!0},closeConfirmation:function(){this.displayConfirmation=!1},archiveTutor:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.tutorService.archiveTutor({tutor:e.curTutor.id});case 3:e.curTutor.archive=!0,e.refreshFilter(e.filterOption),e.showSuccess("Archive Tutor Success","Successfully archived "+e.curTutor.first_name+" "+e.curTutor.last_name),e.curTutor=null,e.closeConfirmation(),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0.response.data),e.showFail("Archive Fail",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},refreshFilter:function(e){this.filteredTutors=this.tutors.filter((function(t){return"All Tutors"==e||("Active Only"==e?!t.archive:t.archive)}))},save:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.tutorService.editTutor(Object(S["a"])({tutor:e.changedTutor.id},e.changedTutor));case 3:if(r=t.sent,"Success"==r.return_status){t.next=7;break}return e.showFail("Edit Tutor Fail",r.return_message),t.abrupt("return");case 7:Object.keys(e.curTutor).forEach((function(t){e.curTutor[t]=e.changedTutor[t]})),e.changedTutor=Object(S["a"])({},e.curTutor),e.refreshFilter(e.filterOption),e.showSuccess("Edit Tutor Success","Successfully edited "+e.changedTutor.first_name+" "+e.changedTutor.last_name),e.mode="view",t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0.response.data),e.showFail("Edit Fail",t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()},showSuccess:function(e,t){this.$toast.add({severity:"success",summary:e,detail:t,life:3e3})},showFail:function(e,t){this.$toast.add({severity:"error",summary:e,detail:t,life:3e3})},resetTutor:function(){this.changedTutor=Object(S["a"])({},this.curTutor)}}};r("9aac");V.render=C,V.__scopeId="data-v-35c64d69";t["default"]=V},e57c:function(e,t,r){}}]);
//# sourceMappingURL=chunk-1731ca28.3bc7c70b.js.map